<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <script>
            // Adventjs
            function init(){
                const a = decode('hola (odnum)')
                console.log(a) // hola mundo

                const b = decode('(olleh) (dlrow)!')
                console.log(b) // hello world!

                const c = decode('sa(u(cla)atn)s')
                console.log(c) // santaclaus

                // Paso a paso:
                // 1. Invertimos el anidado -> sa(ualcatn)s
                // 2. Invertimos el que queda -> santaclaus


            }       
            // Reto 1
            /* Juego de pruebas:
                const giftIds = [2, 1, 3, 5, 3, 2]
                const firstRepeatedId = findFirstRepeated(giftIds)
                console.log(firstRepeatedId) // 3
                // Aunque el 2 y el 3 se repiten
                // el 3 aparece primero por segunda vez

                const giftIds2 = [1, 2, 3, 4]
                const firstRepeatedId2 = findFirstRepeated(giftIds2)
                console.log(firstRepeatedId2) // -1
                // Es -1 ya que no se repite ningún número

                const giftIds3 = [5, 1, 5, 1]
                const firstRepeatedId3 = findFirstRepeated(giftIds3)
                console.log(firstRepeatedId3) // 5
            */
            function findFirstRepeated(gifts) {
                // Code here
                for (let i = 0; i < gifts.length; i++) {
                    for (let j = i+1; j < gifts.length-1; j++) {
                        if (gifts[i] == gifts[j]) {
                            return gifts[i];
                        }
                    }
                }
                return -1;
            }
            
            // Reto 2
            /* Juego de pruebas:
                const gifts = ['tren', 'oso', 'pelota']
                const materials = 'tronesa'

                console.log(manufacture(gifts, materials)); // ["tren", "oso"]
                // 'tren' SÍ porque sus letras están en 'tronesa'
                // 'oso' SÍ porque sus letras están en 'tronesa'
                // 'pelota' NO porque sus letras NO están en 'tronesa'

                const gifts2 = ['juego', 'puzzle']
                const materials2 = 'jlepuz'

                console.log(manufacture(gifts2, materials2)); // ["puzzle"]

                const gifts3 = ['libro', 'ps5']
                const materials3 = 'psli'

                console.log(manufacture(gifts3, materials3)); // []
            */

            function manufacture(gifts, materials) {
                // Code here
                let result = [];
                for (let i = 0; i < gifts.length; i++) {
                    let gift = gifts[i];
                    let flag = true;
                    for (let j = 0; j < gift.length; j++) {
                        if (!materials.includes(gift[j])) {
                            flag = false;
                            break;
                        }
                    }
                    if (flag) {
                        result.push(gift);
                    }
                }
                return result;
            }

            // Reto 3
            /* Juego de pruebas:
                const original = 'abcd'
                const modified = 'abcde'
                findNaughtyStep(original, modified) // 'e'

                const original2 = 'stepfor'
                const modified2 = 'stepor'
                findNaughtyStep(original2, modified2) // 'f'

                const original3 = 'abcde'
                const modified3 = 'abcde'
                findNaughtyStep(original3, modified3) // ''
            */
            function findNaughtyStep(original, modified) {
                // Code here
                let result = '';
                for (let i = 0; i < modified.length; i++) {
                    if (!original.includes(modified[i])) {
                        result += modified[i];
                        break;
                    }
                }
                for (let i = 0; i < original.length; i++) {
                    if (!modified.includes(original[i])) {
                        result += original[i];
                        break;
                    }
                }
                return result;
            }

            // Reto 4
            /* Juego de pruebas:
                const message = 'hola (odnum)'
                decode(message) // 'hola mundo'

                const message2 = '(olleh) (dlrow)!'
                decode(message2) // 'hello world!'

                const message3 = 'sa(u(cla)atn)s'
                decode(message3) // 'santaclaus'
            */
            function decode(message) {
                // Code here
                let result = '';
                let flag = false;
                let word = '';
                for (let i = 0; i < message.length; i++) {
                    if (message[i] == '(') {
                        flag = true;
                    } else if (message[i] == ')') {
                        flag = false;
                        result += word.split('').reverse().join('');
                        word = '';
                    } else if (flag) {
                        word += message[i];
                    } else {
                        result += message[i];
                    }
                }
                return result;
            }


        </script>
    </head>
    <body onload="init()">
        
    </body>
</html>